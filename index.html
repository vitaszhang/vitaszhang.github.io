<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>Telegram Login Demo</title>  
</head>  
<body>  
    <h1>Telegram Login Demo</h1>  
    <div id="telegramLoginButton"></div>  
    <div id="userInfo" style="display: none;">  
        <h2>Welcome, <span id="userName"></span>!</h2>  
        <p>Your Telegram ID: <span id="userId"></span></p>  
        <p>Username: <span id="userUsername"></span></p>  
    </div>  

    <script>  
        // 定义回调函数  
        function onTelegramAuth(user) {  
            console.log('Logged in as:', user);  
            
            // 显示用户信息  
            document.getElementById('userInfo').style.display = 'block';  
            document.getElementById('userName').textContent = user.first_name + ' ' + user.last_name;  
            document.getElementById('userId').textContent = user.id;  
            document.getElementById('userUsername').textContent = user.username ? '@' + user.username : 'N/A';  
        }  

        // 创建并添加 Telegram 登录脚本  
        window.addEventListener('load', function() {  
            var script = document.createElement('script');  
            script.async = true;  
            script.src = 'https://telegram.org/js/telegram-widget.js?22';  
            script.setAttribute('data-telegram-login', 'eggs_bot'); // 替换为您的 Bot 用户名  
            script.setAttribute('data-size', 'large');  
            script.setAttribute('data-onauth', 'onTelegramAuth(user)');  
            script.setAttribute('data-request-access', 'write');  
            
            document.getElementById('telegramLoginButton').appendChild(script);  
        });  
    </script>  
</body>  
</html>
